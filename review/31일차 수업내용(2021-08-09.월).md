## 31일차 수업내용(2021-08-09.월)

#### 프로젝트10-h.리팩토링 : 세터와게터적용

 **OOP.ex07**

` 추상 클래스와 인스턴스 `

- 클래스 앞에 abstract를 붙인다.

- 추상 클래스의 목적
   - 추상 메서드가 있든 없든 상관없이 추상 클래스를 만들 수 있다.
   - 서브 클래스에게 공통 필드나 메서드를 상속해주는 것이 목적이다.
   - 직접 사용하지 않는다.
   - 여러 클래스를 같은 타입으로 묶기 위함이다.
   - 상속에서 generalization을 통해 수퍼 클래스를 정의하는 경우에
     그 수퍼 클래스를 주로 추상 클래스로 만든다.
   - 추상 클래스는 인스턴스를 생성할 수 없다.

  

` 추상 메서드 `

   - 메서드 선언부에 abstract를 붙인다.
   - 메서드 몸체(body)가 없다.
   - 추상 클래스나 인터페이스에서만 선언할 수 있다.

   추상 메서드의 용도
   - 서브 클래스 마다 구현이 다를 수 있는 경우에 사용한다.
   - 서브 클래스가 반드시 구현해야 하는 메서드가 있다면 추상 메서드로 선언하라!
   - 추상 메서드를 상속 받은 서브 클래스는 반드시 추상 메서드를 구현해야 한다.
     만약 구현하지 않으면 서브 클래스도 추상 클래스가 되어야 한다.
     왜?
     추상 메서드를 갖는 클래스는 오직 추상 클래스만이 가능하기 때문이다.



` 추상 클래스 레퍼런스와 메서드 호출 `

- 추상 메서드는 구현하지 않은 메서드이기 때문에
   일반 클래스(=구현 클래스; concrete class)는 추상 메서드를 가질 수 없다.
   오직 추상 클래스만이 추상 메서드를 가질 수 있다.

-  왜?
   - 일반 클래스는 인스턴스를 생성할 수 있다.
   - 인스턴스로 메서드를 호출하기 때문에
     일반 클래스에 완전히 정의되지 않은 메서드가 있다면,
     호출할 때 오류가 발생할 것이다.
   - 이런 문제를 발생시키지 않기 위해
     일반 클래스는 추상 메서드를 갖지 않게 하였다.

  

` 추상 클래스의 용도 `

- 서브 클래스들이 가져야할 공통 변수나 메서드를 제공하는 것이다.



` 추상 메서드만 있을 경우 `

- 객체 사용 규칙을 정의하는 "인터페이스" 문법으로 바꿔도 좋다.
- 인터페이스는 호출 규칙을 정의하는 것이기 때문에 모든 메서드는 기본이 public 이고, abstract 이다.
- public 과  abstract를 생략해도 된다.



` 추상클래스 사용 전 `

- 서로 관련이 없는 클래스는 각 클래스의 사용법(각 클래스가 정의한 메서드)에 따라 실행시켜야 한다.

` 추상클래스 사용 전 - 수퍼클래스로 사용법 통일 `

- 관련이없는 클래스를  하나의 수퍼클래스로 사용법을 통일한다. 수퍼클래스를 정의
- 상속받은 메서드를 서브클래스의 역할에 맞춰서 재정의(overriding)
- 클래스가 같은 부모의 자식이기 때문에 같은 메서드를 가진다.
  - 사용법이 같아서 일관성 있는 코딩이 가능하다.



` 알고리즘 ` = 문제를 해결하는 방식

(VISUALGO 사이트참조)

- 정렬
  - Bubble
  - Quick
  - Insertion
  - Merge
  - Selection
- 자료구조
  - LinkedList
  - Stack
  - Queue
- 탐색
  - 2진탐색트리

- 해시
  - 해시테이블

#### basic ex01. Object클래스

` Object 클래스 `

- 클래스를 정의할 때 수퍼 클래스를 지정하지 않으면 컴파일러는 자동으로 Object를 상속 받는다.
- 자바의 모든 클래스는 Object의 자손이다.

` instanceof 연산자? `

- instanceof 연산자를 사용하여 해당 인스턴스가 Object 타입인지 확인할 수 있다.
- 레퍼런스가 가리키는 인스턴스가 지정한 클래스를 인스턴스 이거나 또는 조상으로 갖는지 검사한다.

 ` Object 클래스의 주요 메서드 `
 1) toString()
    => 클래스이름과 해시코드를 리턴한다.
 2) equals()
    => 같은 인스턴스인지 검사한다. 
 3) hashCode()
    => 인스턴스를 식별하는 값을 리턴한다.
 4) getClass()
    => 인스턴스의 클래스 정보를 리턴한다.
 5) clone()
    => 인스턴스를 복제한 후 그 복제 인스턴스를 리턴한다.
 6) finalize()
    => 가비지 컬렉터에 의해 메모리에서 해제되기 직전에 호출된다.



` toString() `

- 클래스 정보를 간단히 출력한다.
- 패키지명.클래스명@16진수해시값
- 예) ch15.My1@1e81f4dc
-  Object로부터 상속 받은 toString()의 리턴 값이 마음에 들지 않는다면 재정의하라!
  - 보통 인스턴스의 내부 데이터를 문자열로 리턴하도록 변경한다.
  - 프로그램을 실행하는 중에 인스턴스의 내부 값을 빠르게 확인하고 싶을 때 개발자들이 종종 이 메서드를 오버라이딩 한다.
- Object의 toString()을 호출하면 다음 형식의 문자열을 리턴한다.
  - 예) com.eomcs.oop.ex06.d.Exam0110$Score@12a74311

- ` 인스턴스 식별자? ` 
  - 인스턴스의 주소가 아니다. 자바는 절대로 메모리 주소를 알려주지 않는다!
  - 단지 인스턴스를 식별할 때 사용하라고 JVM이 임의로 붙인 식별자이다.
  - 이 식별자를 "해시값(hashcode)"라 부른다.
  - 인스턴스를 구분하는 중복되지 않는 고유한 값

- ` 해시값? `
  - 인스턴스 마다 부여된 고유의 식별자이다.
  - 주의! 주소 아니다!
  - 인스턴스가 같은지 검사할 때 사용할 수 있다.
  -  hashCode()를 재정의하지 않고 원래 메서드를 그대로 사용하면 무조건 인스턴스마다 새 해시값이 부여된다.

` equals() `

- 이 메서드는 Object에 정의된 메서드이다. 따라서 자바의 모든 클래스는 이 메서드를 사용할 수 있다.

- 두 개의 인스턴스가 같은 인스턴스인지 비교한다.
- == 연산자와 동일하게 동작한다.
- 인스턴스의 데이터가 같은지를 비교하고 싶다면, 이 메서드를 재정의(오버라이딩) 해야 한다.
- 오버라이딩의 예:
  - String, 
    - 랩퍼 클래스(Byte,Short,Integer,Long,
    - Float,Double,Boolean,Character)

Object 클래스의 메서드를 오버라이딩 하기



` Object 클래스 - hashCode()에 대하여 `

 ##### hash value?(해시 값)

- 데이터를 다른 데이터와 구분하기 위해 사용하는 특별한 정수 값이다.

- 특정 수학 공식에 따라 값을 계산한다.

- 데이터가 같은지 비교할 때 사용한다.

- 즉 모든 데이터를 일일이 비교하는 대신에 미리 생성된 정수 값을 비교함으로써 빠르게 두 값이 같은지 알아낼 수 있다.

- 매우 낮은 확률이지만 데이터가 다르더라도 같은 정수 값이 나올 수 있다.

  - 당연하다. 큰 데이터를 특별한 계산 공식을 통해 4바이트 정수 값으로 표현한다는 것은
  - 언제든 다른 데이터에 대해 같은 값이 나올 가능성을 내포하는 것이다.
  -  다만 확률이 얼마나 낮은가의 문제다.
  - 다른 데이터에 대해 같은 정수 값이 나올 확률이 낮을 수록 안심하고 사용할 수 있다.
  - 현실과 비교하면 주민번호와 같다.
    - 본인 여부를 확인할 때 주민 번호로 확인하면 매우 빠르게 결과를 알 수 있다.
    -  원래는 본인인지 알아내려면 DNA 검사를 해야 한다.
    - 그러면 너무 시간이 오래 걸린다. 그런데 지문이나 주민번호를 사용하면 빠르게 본인 여부를 알 수 있다.
  - 이런 이유로 hash 값을 "디지털 지문"이라 부른다.

       - 목적?
         => 데이터가 같은지 빠르게 비교하기 위함
          - 응용
           => 본인 여부를 확인하는 인증서.
           => 파일의 위변조를 검사하는 용도. 
              예1) git 에서 커밋할 때 고유번호를 붙이는데 바로 해시 값이다.
              예2) 파일 다운로드 사이트에서 제공하는 해시 값.
              예3) 파일 공유사이트에서 파일을 구분할 때 해시 값 사용. 
           사용자가 파일 이름을 변경하더라도 데이터만 바꾸지 않는다면 
           파일의 해시 값은 같다. 
              - 해시 알고리즘
           => 해시 값을 생성하는 식
           => SHA, MD, PGP 등 

  

##### 해시 알고리즘 과 계산시간

` MD5 `

-  중복될 확률보다는 시간이 짧은게 더 중요한 경우
- 중요도가 낮은 경우

` SHA `

- 시간이 오래걸리더라도 중복 가능성이 낮은 것이 더 중요한 경우
- 보안 관련 데이터
  - 예) 인증서



##### 해시 값(디지털 지문) 사용처

` 데이터 동일 여부 검사 할때 사용한다. `

- 데이터가 같은지 비교할 때 사용한다.
  - 예) 인증서,

- 현실세계의 해시 값
  - 사람A 와 사람B 가 같은지 비교할 때
    - DNA검사로 비교는 정확도가 높은 반면 시간소요가 높다
    - 지문검사로 비교는 정확도가 DNA보다 떨어지지만 시간소요가 DNA보다 낮다
    - 겉모양으로 비교는 정확도가 제일 떨어지지만 시간소요가 제일 빠르다.
- 데이터(2GB) 와 데이터(2GB)가 같은지 비교할 때
  - 1바이트씩 순서대로 비교하면 정확도는100%다 하지만 시간소요가 높다.
  - 요약데이터(해시 값) 으로 비교하면 정확도는 1바이트비교보다 낮지만 시간소요가 줄어든다.
  - 파일크기로만 비교하면 정확도는 제일 떨어지지만 시간은 제일 빠르다. 

` 해시 값을 사용하는 이유 `

- 1바이트씩 비교하는 것이 100프로정확도이지만 비교하는 시간 소요를 줄이기 위해서 해시 값을 사용한다. 

- 원본을 비교하는 것 보다 요약 데이터, 즉 해시 값을 비교하는 것이 훨씬 시간이 적게 든다.

- 현실 세계는 시간이 중요하다!
- 서로다른 데이터이지만 같은 해시 값이 나올 수 있다.

##### 해시 값 활용 

- 예 1) 파일 공유 사이트 → 같은 파일인지 비교할 때.
- 예 2) 원본 파일인지 검사 할 때
  - 해커에의해 왜곡된 데이터가 아닌지 검사할 때.



